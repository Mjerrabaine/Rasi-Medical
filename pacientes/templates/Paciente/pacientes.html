{% extends 'base.html' %}
{% block content %}

<div class="content">
    <div class="">
        <div class="page-header-title">
            <h4 class="page-title">Listado de pacientes fijos!</h4>
            <!--- 
            <div style="text-align:right;">
                <button type="button" class="btn btn-success waves-effect waves-light"
                        onClick=" window.location.href='/pacientecreate' " style="text-align:center;">+
                </button>
            </div>
            --->
        </div>
    </div>
    <div class="search-container">
        <input type="text" id="searchBox" placeholder="Buscar por identificación...">
        <button type="button" onclick="filterTable()">Buscar</button>
    </div>
    <br>
    
    <br>

    <div class="page-content-wrapper">
        <div class="container">
            <!-- Content page -->

            <div class="panel panel-default">
                <div class="panel-body">
                    <table class="table table-hover">
                        <thead>
                        <tr style="color:#0E2EB0">
                            <th font color="red">-</th>
                            <th>Nombre</th>
                            <th>Edad</th>
                            <th>Identificación</th>
                            <th>Género</th>
                            <th>Estatura</th>
                            <th>Peso</th>
                            <th>Rh</th>
                        </tr>
                        </thead>
                        <tbody>

                        {% for paciente in paciente_list %}
                        <tr>
                            <td>{{ paciente.variable.name }}</td>
                            <td>{{ paciente.nombre }}</td>
                            <td>{{ paciente.edad }}</td>
                            <td>{{ paciente.cc }}</td>
                            <td>{{ paciente.genero }}</td>
                            <td>{{ paciente.estatura }}</td>
                            <td>{{ paciente.peso }}</td>
                            <td>{{ paciente.rh }}</td>
                        </tr>
                        {% endfor %}

                        </tbody>
                    </table>

                    <div style="text-align:center;">
                        <button type="button" class="btn btn-primary waves-effect waves-light"
                                onClick=" window.location.href='/' ">
                            Back
                        </button>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>
<script>
    function filterTable() {
        let input, filter, table, tr, td, i, j, visible;
        input = document.getElementById("searchBox");
        filter = input.value.toUpperCase();
        table = document.querySelector(".table");
        tr = table.getElementsByTagName("tr");

        for (i = 1; i < tr.length; i++) {
            visible = false;
            td = tr[i].getElementsByTagName("td");
            for (j = 0; j < td.length; j++) {
                if (td[j] && td[j].innerHTML.toUpperCase().indexOf(filter) > -1) {
                    visible = true;
                    break;
                }
            }
            if (visible === true) {
                tr[i].style.display = "";
            } else {
                tr[i].style.display = "none";
            }
        }
    }
</script>

{% endblock %}